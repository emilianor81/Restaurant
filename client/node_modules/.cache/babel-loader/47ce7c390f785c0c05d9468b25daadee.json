{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\santi\\\\Desktop\\\\restaurante con emi\\\\Restaurant\\\\client\\\\src\\\\componentes\\\\Reservas\\\\Reservas.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport style from \"./recipes.css\";\nimport { searchRecipes, getRecipes, getDiets } from '../../redux/Actions';\nimport { connect } from 'react-redux';\nimport Recipe from '../recipe/Recipe';\nimport Filter from '../filter/Filter';\nimport Pages from '../pages/Pages';\nimport Coding from '../../img/about.gif';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Recipes = ({\n  location,\n  allrecipes,\n  searchedRecipes,\n  searchRecipes,\n  getRecipes,\n  getDiets\n}) => {\n  _s();\n\n  useEffect(() => {\n    getRecipes();\n    getDiets();\n  }, [getRecipes, getDiets]); // }, [getRecipes, getDiets])\n\n  const [recipes, setRecipes] = useState([]);\n  const [page, setPage] = useState(1);\n  useEffect(() => {\n    if (location.search !== '') {\n      setPage(parseInt(location.search.slice(location.search.indexOf('=') + 1)));\n    }\n  }, [location.search]);\n  useEffect(() => {\n    if (searchedRecipes.length > 0 && searchedRecipes !== 'undefined') {\n      setRecipes(searchedRecipes);\n    } else {\n      setRecipes(allrecipes);\n    }\n  }, [allrecipes, searchedRecipes]);\n  useEffect(() => {\n    return searchRecipes('');\n  }, [searchRecipes]);\n\n  function handleOrder(param) {\n    switch (param) {\n      case 'A-Z':\n        return setRecipes([...recipes].sort((a, b) => {\n          if (a.title > b.title) {\n            return 1;\n          }\n\n          if (a.title < b.title) {\n            return -1;\n          }\n\n          return 0;\n        }));\n\n      case 'Z-A':\n        return setRecipes([...recipes].sort((a, b) => {\n          if (b.title > a.title) {\n            return 1;\n          }\n\n          if (b.title < a.title) {\n            return -1;\n          }\n\n          return 0;\n        }));\n\n      case 'BestScore':\n        return setRecipes([...recipes].sort((a, b) => {\n          return b.spoonacularScore - a.spoonacularScore;\n        }));\n\n      case 'WorstScore':\n        return setRecipes([...recipes].sort((a, b) => {\n          return a.spoonacularScore - b.spoonacularScore;\n        }));\n\n      default:\n        return setRecipes([...allrecipes]);\n    }\n  }\n\n  function handleFilter(param) {\n    if (param !== undefined) {\n      return setRecipes(recipes.filter(r => r.diets !== undefined ? r.diets.map(e => e = e.toLowerCase()).includes(param.toLowerCase()) : null));\n    } else {\n      return setRecipes([...allrecipes]);\n    }\n\n    ;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipes\",\n      children: [recipes.length > 0 ? recipes.slice((page - 1) * 9, page * 9).map(r => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Recipe, {\n          id: r.id,\n          title: r.title,\n          img: r.image,\n          diet: r.diet ? r.diet : r.diets,\n          score: r.spoonacularScore\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)\n      }, r.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 80\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"No se encontraron recetas que coincidan con la busqueda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Coding,\n          alt: \"Coding gif\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Pages, {\n        allRecipes: recipes,\n        page: page\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 7\n  }, this);\n};\n\n_s(Recipes, \"Ocb/Gtp6ggIgmo2kZC+I2mLW+iE=\");\n\n_c = Recipes;\n\nfunction mapStateToProps(state) {\n  return {\n    searchedRecipes: state.searchedRecipes,\n    allrecipes: state.allRecipes,\n    alldiets: state.allDiets\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    searchRecipes: data => dispatch(searchRecipes(data)),\n    getDiets: () => dispatch(getDiets()),\n    getRecipes: () => dispatch(getRecipes())\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Recipes);\n\nvar _c;\n\n$RefreshReg$(_c, \"Recipes\");","map":{"version":3,"sources":["C:/Users/santi/Desktop/restaurante con emi/Restaurant/client/src/componentes/Reservas/Reservas.js"],"names":["React","useState","useEffect","style","searchRecipes","getRecipes","getDiets","connect","Recipe","Filter","Pages","Coding","Recipes","location","allrecipes","searchedRecipes","recipes","setRecipes","page","setPage","search","parseInt","slice","indexOf","length","handleOrder","param","sort","a","b","title","spoonacularScore","handleFilter","undefined","filter","r","diets","map","e","toLowerCase","includes","id","image","diet","mapStateToProps","state","allRecipes","alldiets","allDiets","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport style from \"./recipes.css\";\r\nimport { searchRecipes, getRecipes, getDiets } from '../../redux/Actions';\r\nimport { connect } from 'react-redux';\r\nimport Recipe from '../recipe/Recipe'\r\nimport Filter from '../filter/Filter'\r\nimport Pages from '../pages/Pages'\r\nimport Coding from '../../img/about.gif'\r\n\r\n\r\nconst Recipes = ({ location, allrecipes, searchedRecipes, searchRecipes, getRecipes, getDiets }) => {\r\n  useEffect(() => {\r\n    getRecipes()\r\n    getDiets();\r\n  }, [getRecipes, getDiets])\r\n// }, [getRecipes, getDiets])\r\n\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n   \r\n\r\n  useEffect(() => {\r\n    if (location.search !== '') {\r\n      setPage(parseInt(location.search.slice(location.search.indexOf('=') + 1)));\r\n    }\r\n  }, [location.search])\r\n\r\n \r\n  useEffect(() => {\r\n    if (searchedRecipes.length > 0 && searchedRecipes !== 'undefined') {\r\n      setRecipes(searchedRecipes)\r\n    }\r\n    else {\r\n      setRecipes(allrecipes)\r\n    }\r\n  }, [allrecipes, searchedRecipes])\r\n\r\n\r\n  useEffect(() => {\r\n    return searchRecipes('')\r\n  }, [searchRecipes])\r\n\r\n\r\n  function handleOrder(param) {\r\n    switch (param) {\r\n      case 'A-Z':\r\n        return setRecipes([...recipes].sort((a, b) => {\r\n          if (a.title > b.title) {\r\n            return 1;\r\n          }\r\n          if (a.title < b.title) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }))\r\n      case 'Z-A':\r\n        return setRecipes([...recipes].sort((a, b) => {\r\n          if (b.title > a.title) {\r\n            return 1;\r\n          }\r\n          if (b.title < a.title) {\r\n            return -1;\r\n          }\r\n          return 0;\r\n        }))\r\n      case 'BestScore':\r\n        return setRecipes([...recipes].sort((a, b) => { return b.spoonacularScore - a.spoonacularScore }))\r\n      case 'WorstScore':\r\n        return setRecipes([...recipes].sort((a, b) => { return a.spoonacularScore - b.spoonacularScore }))\r\n      default:\r\n        return setRecipes([...allrecipes])\r\n    }\r\n  }\r\n\r\n   \r\n     function handleFilter(param) {\r\n      if (param !== undefined)\r\n        {return setRecipes(recipes.filter(r =>r.diets!==undefined? r.diets.map(e=> e=e.toLowerCase()).includes(param.toLowerCase()): null))\r\n     } else {return setRecipes([...allrecipes])};\r\n    }\r\n \r\n  \r\n \r\n    return(\r\n      <div>\r\n        {/* <Filter filter={handleFilter} order={handleOrder} /> */}\r\n        <div className=\"recipes\">\r\n        {recipes.length > 0 ? recipes.slice((page - 1) * 9, page * 9).map(r => <div key={r.id}>\r\n            <Recipe\r\n                id={r.id}\r\n                title={r.title}\r\n                img={r.image}\r\n                diet={r.diet?r.diet:r.diets}\r\n                score={r.spoonacularScore}\r\n              />\r\n        </div>) :\r\n          <div>\r\n            <h2>No se encontraron recetas que coincidan con la busqueda</h2>\r\n            <img src={Coding} alt='Coding gif' />\r\n          </div>}    \r\n            <Pages allRecipes={recipes} page={page} />   \r\n      </div>\r\n      </div>\r\n           \r\n    )\r\n}\r\n\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    searchedRecipes: state.searchedRecipes,\r\n    allrecipes: state.allRecipes,\r\n    alldiets: state.allDiets\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    searchRecipes: (data) => dispatch(searchRecipes(data)),\r\n    getDiets: () => dispatch(getDiets()),\r\n    getRecipes: () => dispatch(getRecipes())\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Recipes);"]},"metadata":{},"sourceType":"module"}